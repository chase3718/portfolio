#desktop {
	height: calc(100vh - 24px);
	width: 100%;
	overflow: hidden;
}

.tiling-container {
	height: 100%;
	width: 100%;
	position: relative;
	display: grid;
	gap: 8px;
	padding: 8px;
	overflow: hidden;
	transition: grid-template-columns 0.3s ease-out, grid-template-rows 0.3s ease-out;
}

/* 1 window: full screen */
.tiling-container:has(> :not(.minimized):nth-child(1):last-child),
.tiling-container:has(> :not(.minimized):only-child) {
	grid-template-columns: 1fr;
	grid-template-rows: 1fr;
}

/* 2 windows: split vertically */
.tiling-container:has(> :not(.minimized):nth-of-type(2):last-of-type) {
	grid-template-columns: 1fr 1fr;
	grid-template-rows: 1fr;
}

/* 3 windows: 1 left, 2 stacked right */
.tiling-container:has(> :not(.minimized):nth-of-type(3):last-of-type) {
	grid-template-columns: 1fr 1fr;
	grid-template-rows: 1fr 1fr;
}

.tiling-container:has(> :not(.minimized):nth-of-type(3):last-of-type) > :not(.minimized):nth-of-type(1) {
	grid-row: 1 / 3;
}

/* 4 windows: 2x2 grid */
.tiling-container:has(> :not(.minimized):nth-of-type(4):last-of-type) {
	grid-template-columns: 1fr 1fr;
	grid-template-rows: 1fr 1fr;
}

/* 5+ windows: adjustable grid */
.tiling-container:has(> :not(.minimized):nth-of-type(5)) {
	grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
	grid-auto-rows: 1fr;
}
